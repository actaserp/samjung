<!DOCTYPE html>
<html lang="ko">
<style>

    .list-num {
        position: relative;
        width: 100%;
    }

    .list-num p:first-child {
        position: absolute;
        right: 0; /* 오른쪽 끝으로 이동 */
    }

    .input-box {
        width: 80%;
        /*//border: none; border-bottom: 1px solid black;
        //border-radius: 0;
        */
    }
    .mg-t10 {
        margin-top: 20px;
    }
    .spanBox {
        min-width: 45px;
        margin-right: 10px;
    }


</style>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FACT CHECK</title>
    <link rel="icon" type="image/png" href="/images/logo/icon_FACT%20CHECK.png">
    <link rel="stylesheet" href="https://code.jquery.com/ui/1.12.1/themes/smoothness/jquery-ui.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css"/> <!-- Slide css -->
    <link rel="stylesheet" href="/resource/ax5ui/ax5ui.all.css">
    <link rel="stylesheet" type="text/css" href="/assets_mobile/css/import.css">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js"></script>

    <script src="/assets_mobile/js/ui.js"></script> <!-- Common js -->
    <script th:inline="javascript">
        var sandanData = /*[[${session.sandanList}]]*/ [];
    </script>


    <script type="text/javascript" src="/resource/ax5ui/ax5ui.all.min.js?v=1000"></script>

    <script type="text/javascript" src="/js/ax5commUtil.js?v=1070"></script>

    <script src="/js/common.js?v=1060"></script>
    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script> <!-- Slide js -->
    <script src="/js/Mobile.js"></script>
</head>

<body>
<div class="mobile-wrapper page-ticket-list"><!-- ★페이지 Class명 -->
    <!-- [모바일] 헤더  -->
    <div class="mobile-layout-header">
        <header>
            <div class="left">
                <a href="#" title="전체메뉴" class="logo">
                </a>
            </div>
            <div class="center" style="margin-left:35px;">
                <h2>회원 탈퇴</h2>
            </div>
            <div class="right">
                <a href="#" title="전체메뉴" class="btn-menu">
                    <img src="/assets_mobile/images/icon/btn-menu.svg" alt="전체메뉴 아이콘">
                </a>
            </div>
        </header>
    </div> <!-- //mobile-layout-header end-->

    <!-- [모바일] 메뉴  -->
    <div th:insert="~{mobile/mobile_menu :: mobile_menu}"></div>
    <!-- [모바일] 컨덴츠  -->
    <div class="mobile-layout-contents">
        <!--- (레이아웃) Contents 영역 -->
        <div class="layout-contents">
            <hr style="margin-left: 13px; height: 5px; border: 1px solid steelblue; background-color: steelblue">

            <!-- 컨텐츠 영역  -->
            <div class="contents-wrap">
                <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}"/>
                <div class="list-top-wrap">
                    <div class="list-num" style="margin-top: 15px">
                        <p>앱정보 > 회원 탈퇴</p>
                    </div>
                </div>

                <div th:if="${user != null}" style="margin-top: 50px">
                    <input type="hidden" id="username" th:value="${user.username}" readonly class="input-box"/>
                    <h1 style="text-align: center; ">내 정보</h1>
                    <div class="mg-t10">
                        <label class="spanBox">닉네임: </label>
                        <input type="text" th:value="${user.nickname}" readonly class="input-box"/>
                    </div>
                    <div class="mg-t10">
                        <label class="spanBox">연령: </label>
                        <input  type="text" th:value="${user.age}" readonly class="input-box"/>
                    </div>
                    <div class="mg-t10">
                        <label class="spanBox">주소: </label>
                        <input  type="text" th:value="${user.address}" readonly class="input-box"/>
                    </div>
                    <div class="mg-t10">
                        <label class="spanBox">연락처: </label>
                        <input  type="text" th:value="${user.tel}" readonly class="input-box"/>
                    </div>

                    <div style="width: 100%; display: flex; justify-content: center;">
                        <button id="btnWithdraw" style="width: 50%; margin: 30px auto auto;">계정 탈퇴</button>
                    </div>
                </div>

            </div> <!--// contents-wrap end-->
        </div> <!--//layout-contents end -->
       <!-- <div class='onesignal-customlink-container'></div>-->
    </div> <!-- //mobile-layout-contents end-->



    <!--거래처 검색 팝업-->

</div> <!-- //page-wrapper end-->
<!--<script src="https://cdn.onesignal.com/sdks/web/v16/OneSignalSDK.page.js" defer></script>
<script type="text/javascript">
    window.OneSignalDeferred = window.OneSignalDeferred || [];
    OneSignalDeferred.push(async function(OneSignal) {
        await OneSignal.init({
            appId: "683381a8-bf12-4cd7-b27f-cfa00c5bf860",
            safari_web_id: "web.onesignal.auto.32866db8-e87d-48d6-8bf4-a7b54cca5ee4",
            notifyButton: {
                enable: true,
                showCredit: false,
            },
            // Your other init options here
            promptOptions: {
                customlink: {
                    enabled: true, /* Required to use the Custom Link */
                    style: "button", /* Has value of 'button' or 'link' */
                    size: "medium", /* One of 'small', 'medium', or 'large' */
                    color: {
                        button: '#E12D30', /* Color of the button background if style = "button" */
                        text: '#FFFFFF', /* Color of the prompt's text */
                    },
                    text: {
                        subscribe: "Subscribe to push notifications", /* Prompt's text when not subscribed */
                        unsubscribe: "Unsubscribe from push notifications", /* Prompt's text when subscribed */
                        explanation: "Get updates from all sorts of things that matter to you", /* Optional text appearing before the prompt button */
                    },
                    unsubscribeEnabled: true, /* Controls whether the prompt is visible after subscription */
                }
            },
            allowLocalhostAsSecureOrigin: true,
        });
        //OneSignal.User.addAlias("actas", "ALIAS_ID");


        /*OneSignal.User.setLanguage('ko')
        // 사용자의 외부 ID 설정
        await OneSignal.login(userid);*/
    });
</script>-->
<script type="text/javascript">

    document.readyState === 'complete' ? init() : window.onload = init;


    function init() {

    }

    $('#btnWithdraw').click(function(){
        Alert.confirm('', '정말 탈퇴 하시겠습니까?', function(){
            let data = {
                '_csrf': csrfToken,
                'id' : $('#username').val()
            }
            let fnSuccess = function (res) {
                if (res.success) {
                    Alert.alert('', '탈퇴 되었습니다.', function(){
                        window.location = '/logout';
                    });
                }
            }
            AjaxUtil.postAsyncData('/api/withdraw/resign', data, fnSuccess);
        })
    })

    function sendAjaxRequest(url, data) {
        $.ajax({
            url: '/api/FAQ/save',
            type: 'POST',
            data: formData,
            processData: false,
            contentType: false,
            headers: {
                'X-CSRF-Token': $('[name=_csrf]').val() // CSRF 토큰을 헤더에 추가
            },
            success: handleAjaxResponse,
            error: function () {
                Alert.alert('', '에러가발생하였습니다.');
            }
        });
    }

    // $(document).ready(function () {
    //
    //     $('#logout').on('click', function (e) {
    //         e.preventDefault();

</script>
</body>
</html>
